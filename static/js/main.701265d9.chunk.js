(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{220:function(e,a,t){e.exports=t.p+"static/media/driverIcon.664410f5.svg"},221:function(e,a,t){e.exports=t.p+"static/media/ironIcon.aff82a3f.svg"},222:function(e,a,t){e.exports=t.p+"static/media/putterIcon.017c75cd.svg"},223:function(e,a,t){e.exports=t.p+"static/media/fingerprint.deabfcc6.svg"},224:function(e,a,t){e.exports=t.p+"static/media/sky.474fac6d.png"},244:function(e,a,t){e.exports=t(396)},249:function(e,a,t){},392:function(e,a,t){},394:function(e,a,t){e.exports=t.p+"static/media/golfbag.c7fbd966.svg"},396:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(11),i=t.n(o),c=t(18),l=t(17),s=t(20),m=t(19),u=t(21),h=t(15),g=(t(249),t(433)),d=t(439),p=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={},t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"header"},r.a.createElement(g.a,{position:"static"},r.a.createElement(d.a,{className:"toolbar"},r.a.createElement("div",{className:"appbar-container--left"},"Golf"))))}}]),a}(n.Component),f=t(30),v=t(450),b=t(443),y=t(441),w=t(442),k=t(444),E=t(445),j=t(447),O=t(446),S=t(454),x=t(448),C=t(225),I=t.n(C),M=t(440),N=t(215),P=t.n(N),D=(t(326),t(328),P.a.initializeApp({apiKey:"AIzaSyA1LCnNtukZ_zxfJwCeaEgKTU-BNrprX24",authDomain:"stagehoot-golf.firebaseapp.com",databaseURL:"https://stagehoot-golf.firebaseio.com",projectId:"stagehoot-golf",storageBucket:"stagehoot-golf.appspot.com",messagingSenderId:"688320597897",appId:"1:688320597897:web:8279c87d63b8e6fa"},"golf"));var G=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){return function(a){t.setState(Object(f.a)({},e,a.target.value))}},t.state={name:""},t.createPlayer=t.createPlayer.bind(Object(h.a)(Object(h.a)(t))),t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.playerKey,t=e.game,n=e.addPlayer;!a&&t.minigame.nameGenerator&&n(this.generatePlayer())}},{key:"createPlayer",value:function(){var e=this.state.name;(0,this.props.addPlayer)({name:e,score:0})}},{key:"generatePlayer",value:function(){var e=this.props.game,a=[];return e.players&&(a=Object.values(e.players).map(function(e){return e.name})),{name:function(e){for(var a=["rutig,","antik","arg","lugn","friterad","hemlig","lycklig","gammal","rutten","smidig","vegansk","stark","full","giftig","djurig","artig","smutsig","dum","smart","stilig","snabb","l\xe5ngsam","seg","blygsam","envis","cool","tuff","sp\xe4nnande","farlig"],t=["ninja","stol","pankaka","staty","enh\xf6rning","regnb\xe5ge","kanin","kapten","cupcake","morot","potatis","salad","gardin","toalett","streckgubbe","drake","farmor","mormor","farfar","morfar","mellanchef","r\xf6rmokare","bilf\xf6rs\xe4ljare","skogshuggare","pension\xe4r","cirkus","studdsmatta","clown","mellanchef","busschaff\xf6r","luftballong","boss","tiger"],n="",r=0;r<20;r++){var o="";if(o=r>10?"".concat(a[Math.floor(Math.random()*a.length)]," ").concat(a[Math.floor(Math.random()*a.length)]," ").concat(t[Math.floor(Math.random()*t.length)]):"".concat(a[Math.floor(Math.random()*a.length)]," ").concat(t[Math.floor(Math.random()*t.length)]),!(e.indexOf(o)>-1)){n=o;break}}return n}(a),score:0}}},{key:"render",value:function(){var e=this.props,a=e.game,t=e.playerKey,n=this.state.name,o="";return a.players&&t&&a.players[t]&&(o=a.players[t].name),r.a.createElement("div",{className:"phase-container"},o?r.a.createElement("div",null,r.a.createElement("div",{className:"quiz-top-section"}),r.a.createElement("div",{className:"quiz-middle-section"},r.a.createElement(M.a,{variant:"h5"},r.a.createElement("span",null,"Welcome "),r.a.createElement("span",{className:"dynamic-text"},o)),r.a.createElement(M.a,{variant:"subtitle1"}," Watch the screen, your name should show.")),r.a.createElement("div",{className:"quiz-bottom-section"})):r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(v.a,{label:"Name",name:"name",value:n,margin:"normal",onChange:this.handleChange("name")})),r.a.createElement(b.a,{onClick:this.createPlayer,variant:"contained"},"done")))}}]),a}(n.Component),F=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={},t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"phase-container"},r.a.createElement("div",{className:"quiz-top-section"}),r.a.createElement("div",{className:"quiz-middle-section"},r.a.createElement(M.a,{variant:"h5"},"Starting game...")),r.a.createElement("div",{className:"quiz-bottom-section"}))}}]),a}(n.Component),K=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={},t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"phase-container"},r.a.createElement("div",{className:"quiz-top-section"}),r.a.createElement("div",{className:"quiz-middle-section"},r.a.createElement(M.a,{variant:"h5"},"Look at the screen. playerKey")),r.a.createElement("div",{className:"quiz-bottom-section"}))}}]),a}(n.Component),T=t(5),L=t(216),z=t.n(L),A=(t(217),t(218),t(219),t(28)),R=12,q="green",H=[{name:"Putter",type:"putt",id:0,loft:1,powerFactor:1.6,max:400},{name:"Sand wedge",type:"iron",id:1,loft:78,powerFactor:2.6,max:700},{name:"Pitch wedge",type:"iron",id:2,loft:62,powerFactor:2.75,max:700},{name:"9 Iron",type:"iron",id:3,loft:49,powerFactor:2.9,max:700},{name:"8 Iron",type:"iron",id:4,loft:46,powerFactor:2.95,max:700},{name:"7 Iron",type:"iron",id:5,loft:43,powerFactor:3,max:700},{name:"6 Iron",type:"iron",id:6,loft:40,powerFactor:3.05,max:700},{name:"5 Iron",type:"iron",id:7,loft:37,powerFactor:3.1,max:700},{name:"4 Iron",type:"iron",id:8,loft:34,powerFactor:3.15,max:700},{name:"3 Iron",type:"iron",id:9,loft:31,powerFactor:3.2,max:700},{name:"Fairway",type:"wood",id:10,loft:26,powerFactor:3.6,max:800},{name:"Driver",type:"wood",id:11,loft:22,powerFactor:3.8,max:800}];var W=new A.Material,B=new A.Material,_=new A.Material;new A.ContactMaterial(W,B,{friction:1,restitution:.5}),new A.ContactMaterial(W,_,{friction:.1,restitution:0,relaxation:8}),Math.pow(2,1),Math.pow(2,2);t(392);var U,V,J=t(220),X=t.n(J),Z=t(221),$=t.n(Z),Q=t(222),Y=t.n(Q),ee=(t(394),t(223)),ae=t.n(ee),te=t(224),ne=t.n(te),re=t(452);var oe=function(e){function a(e){var t;Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleClick=function(e){t.setState({anchorEl:e.currentTarget})},t.handleClose=function(){t.setState({anchorEl:null})},t.handleChange=function(e){return function(a){t.setState(Object(f.a)({},e,a.target.value))}},t.handleChangeSelect=function(e){t.setState(Object(f.a)({},e.target.name,e.target.value))};var n=Math.floor(window.innerHeight-180),r=Math.floor(window.innerWidth),o={wood:X.a,iron:$.a,putt:Y.a};return t.state={highestAcceleration:0,isSwinging:!1,swingData:[],clubIndex:0,round:1,canvasHeight:n,strokes:0,canvasWidth:r,anchorEl:null,clubIcons:o},t.renderFrame=t.renderFrame.bind(Object(h.a)(Object(h.a)(t))),t.saveSwing=t.saveSwing.bind(Object(h.a)(Object(h.a)(t))),t.testSwing=t.testSwing.bind(Object(h.a)(Object(h.a)(t))),t}return Object(u.a)(a,e),Object(l.a)(a,null,[{key:"getDerivedStateFromProps",value:function(e,a){return a.round!==e.game.minigame.round?{round:e.game.minigame.round,strokes:0}:null}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;U=document.getElementById("swingcanvas"),(V=U.getContext("2d")).translate(.5,.5);var a=this;"function"===typeof DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then(function(e){"granted"===e?window.addEventListener("devicemotion",function(e){var t=e||window.event;t.preventDefault(),t.stopPropagation();var n=a.state,r=n.isSwinging,o=n.swingData,i=n.highestAcceleration;n.clubIndex;if(r){var c=t.acceleration,l=c.x,s=c.y,m=c.z;o.push({x:Math.round(2*l),y:Math.round(2*s),z:Math.round(2*m)});var u=Math.abs(l),h=Math.abs(m),g=Math.floor(u+h);g>i?a.setState(function(){return{highestAcceleration:g,swingData:o}}):a.setState({swingData:o})}},!0):alert("device motion permission not granted")}).catch(console.error):alert("device has no request permission function"),U.addEventListener("touchstart",function(e){var t=e||window.event;t.preventDefault(),t.stopPropagation(),a.setState(function(){return{highestAcceleration:0,swingData:[],isSwinging:!0}})},!1),U.addEventListener("touchend",function(t){var n=t||window.event;n.preventDefault(),n.stopPropagation();var r=a.state,o=r.highestAcceleration,i=r.clubIndex;a.setState(function(){return{isSwinging:!1}}),e.saveSwing(o,i)},!1),this.renderFrame()}},{key:"shouldComponentUpdate",value:function(e,a){var t=this.state,n=(t.swingData,t.isSwinging),r=t.strokes,o=t.anchorEl,i=t.clubIndex;if(console.log("shouldComponentUpdate"),a.isSwinging!==n)return!0;if(a.strokes!==r)return!0;if(a.anchorEl!==o)return console.log("yes anchorEI"),!0;if(a.clubIndex!==i)return console.log("yes clubindex"),!0;var c=this.props,l=c.game,s=c.playerKey;if(e.game.phase!==l.phase)return!0;var m=l.players[s],u=e.game.players[s];return m.state!==u.state||(console.log("false"),!1)}},{key:"testSwing",value:function(){var e=Math.floor(100*Math.random())+10;this.saveSwing(e,2,!0)}},{key:"saveSwing",value:function(e,a,t){var n=this.props,r=n.playerKey,o=n.game,i=this.state.swingData;if("STILL"===o.players[r].state)if("gameplay"===o.phase)if(!function(e){return e.length<10}(i)||t){var c=function(e,a){var t=(90-e.loft)/90,n=e.loft/90,r=a;return{x:Math.min(Math.ceil(r*t*e.powerFactor),e.max),y:Math.min(Math.ceil(r*n*e.powerFactor),e.max)}}(H[a],e);this.setState(function(e){return{strokes:e.strokes+1}}),D.database().ref("/games/".concat(o.key,"/players/").concat(r,"/swing")).set(c,function(e){e?console.log("error updated swing move"):console.log("saved swing success")})}else alert("invalid swing");else alert("game is not playing");else alert("ball is not still")}},{key:"saveFindMyBall",value:function(){var e=this.props,a=e.playerKey,t=e.game,n=t.players[a];"gameplay"===t.phase?D.database().ref("/games/".concat(t.key,"/players/").concat(a,"/showNameTag")).set(!n.showNameTag,function(e){e?console.log("error updated showNameTag"):console.log("saved showNameTag success")}):alert("game is not playing")}},{key:"renderFrame",value:function(){var e=this.props,a=e.game,t=e.playerKey,n=(e.classes,this.state),r=n.swingData,o=n.strokes;if(V){var i=a.players[t];V.lineWidth=4;var c=new Image;c.src=ne.a,c.onload=function(){V.clearRect(0,0,U.width,U.height),V.drawImage(c,0,0,U.width,U.height);var e,t,n=new Image;n.onload=function(){V.globalAlpha=.3,V.drawImage(n,U.width/4,U.height/4,U.width/2,U.width/2),V.globalAlpha=1},n.src=ae.a,function(e){for(var a=e.length,t={y:U.height/2-2*R,x:U.width/2},n=0;n<a;n++){var r=t.y+Math.round(e[n].z),o=t.x+Math.round(e[n].x);V.beginPath(),V.moveTo(t.x,t.y),V.lineTo(o,r),V.stroke(),t.y=r,t.x=o}}(r),e=U.width,t=U.height,a.minigame.levelColor,V.fillStyle=q,V.fillRect(0,t-R,e,R),"STILL"===i.state?(function(e,a,t){V.font="28px roboto",V.fillStyle="#000000",V.textAlign="center",V.fillText("Slag: ".concat(t),e,a)}(U.width/2,48,o),function(e,a,t,n,r){V.lineWidth=1,V.fillStyle=t,V.strokeStyle=n,V.beginPath(),V.arc(e,a,R,0,2*Math.PI),V.fill(),V.closePath(),V.beginPath(),V.arc(e,a,R-V.lineWidth/2,0,2*Math.PI),V.stroke(),V.closePath()}(U.width/2,U.height-2*R+4,i.color,"gray"),function(e,a,t){V.font="24px roboto",V.fillStyle="#000000",V.textAlign="center",V.fillText("Distance: ".concat(t," yards"),e,a)}(U.width/2,24,i.distance)):"SCORED"===i.state&&function(e,a,t,n){V.font="20px roboto",V.fillStyle="#000000",V.textAlign="center",V.fillText("".concat(n," strokes in ").concat(t.scoreTime," seconds"),e,a)}(U.width/2,36,i,o)}}}},{key:"render",value:function(){var e=this,a=this.props,t=a.game,n=(a.playerKey,a.classes),o=this.state,i=o.highestAcceleration,c=(o.isSwinging,o.canvasHeight),l=o.canvasWidth,s=o.clubIndex,m=o.anchorEl,u=o.clubIcons,h=(Boolean(m),H[s]);this.renderFrame();var g=Object(T.a)({thumb:{width:20,height:20,marginLeft:"-10px !important",marginBottom:"-8px !important",backgroundColor:"#fffffff5"},active:{},track:{height:4},rail:{height:4,opacity:.5,backgroundColor:"#3880f"},mark:{backgroundColor:"currentcolor",height:1,width:8,marginTop:-3,color:"#3880f"},markActive:{opacity:1,backgroundColor:"currentcolor"},markLabel:{color:"rgba(0, 0, 0, 0.87)",fontWeight:500},markLabelActive:{color:"rgba(0, 0, 0, 0.87)"}})(re.a);H[0].name,H.length,H[H.length-1].name;return r.a.createElement("div",{className:"phase-container"},r.a.createElement("div",{className:n.container},r.a.createElement("canvas",{id:"swingcanvas",className:n.canvas,height:c,width:l}),r.a.createElement("div",{className:n.clubwrapper},r.a.createElement(g,{value:s,"aria-label":"golf club selector",defaultValue:H.length-1,orientation:"vertical",marks:H.map(function(e){return{value:e.id,label:e.name}}),min:0,max:H.length-1,step:1,onChangeCommitted:function(a,t){console.log("newvalue slider:"+t),e.setState(Object(f.a)({},"clubIndex",t))}})),r.a.createElement("div",{className:n.clubiconWrapper},r.a.createElement("img",{className:n.clubicon,src:u[h.type],alt:"club",height:"60"})),r.a.createElement("div",{className:n.footer,style:{backgroundColor:t.minigame.levelColor}},r.a.createElement(z.a,{minValue:0,height:174,startColor:"green",ringWidth:40,segments:10,needleTransitionDuration:50,needleTransition:"easeLinear",textColor:"ghostwhite",needleColor:"ghostwhite",endColor:"red",currentValueText:"${value} m/s",maxValue:100,value:i/2})),r.a.createElement(b.a,{onClick:function(){return e.saveFindMyBall()},variant:"outlined",size:"small",style:{position:"absolute",top:"38px",left:"0"}},"Find ball")))}}]),a}(n.Component),ie=Object(T.a)(function(e){return{container:{height:"100vh",width:"100vw"},canvas:{},header:{height:80},footer:{height:180,marginTop:"-4px"},clubwrapper:{height:"49vh",width:"10vw",bottom:"210px",position:"absolute"},clubiconWrapper:{position:"absolute",bottom:"188px",left:"50%",marginLeft:"20px"}}})(oe),ce=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.game,t=e.playerKey,n=e.createPlayer,o="final_result"===a.phase||"end"===a.phase;return r.a.createElement("div",{className:"play-container"},"connection"===a.phase&&r.a.createElement(G,{game:a,addPlayer:n,playerKey:t}),"starting"===a.phase&&r.a.createElement(F,{game:a}),("gameplay"===a.phase||"level_completed"===a.phase)&&r.a.createElement(ie,{game:a,playerKey:t}),o&&r.a.createElement(K,{game:a,playerKey:t}))}}]),a}(n.PureComponent);function le(e,a){D.database().ref("games").orderByChild("gameId").equalTo(e).once("value",a)}var se=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).handleChangeSelect=function(e){t.setState(Object(f.a)({},e.target.name,e.target.value))},t.handleChange=function(e){return function(a){t.setState(Object(f.a)({},e,a.target.value))}},t.state={game:{},gameId:"",recentGameId:localStorage.getItem("RecentGameIdPlay")||"",playerKey:"",recentGame:null,isRedirected:Date.now()-localStorage.getItem("spotifytoken_timestamp")<2e3},t.createPlayer=t.createPlayer.bind(Object(h.a)(Object(h.a)(t))),t.joinGame=t.joinGame.bind(Object(h.a)(Object(h.a)(t))),t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.state,t=a.recentGameId,n=a.isRedirected,r=window.location.href.split("pin=")[1];r&&this.joinGame(r),n&&this.joinGame(t),t&&le(t,function(a){var t;a.val()&&(a.forEach(function(e){t=e.val()}),"IN_PROGRESS"===t.status&&e.setState({recentGame:t}))})}},{key:"joinGame",value:function(e){var a=this.props,t=a.showSnackbar,n=a.toggleHeader,r=this;le(e,function(e){if(e.val()){var a;if(e.forEach(function(e){a=e.val()}),"connection"===a.phase){var o=localStorage.getItem("RecentPlayerKey");o&&a.players&&a.players[o]&&r.setState({playerKey:o}),r.initGameListiner(a);t({variant:"success",message:"Connected to game"}),n(!1)}else if("setup"===a.phase){t({variant:"error",message:"Game is not yet started"})}else{var i=localStorage.getItem("RecentPlayerKey");if(i&&a.players&&a.players[i]){r.setState({playerKey:i}),localStorage.setItem("RecentGameIdPlay",a.gameId),r.initGameListiner(a);t({variant:"success",message:"Connected to game"}),n(!1)}else{t({variant:"error",message:"Game is in progress"})}}}else{t({variant:"info",message:"No game found"})}})}},{key:"initGameListiner",value:function(e){var a=D.database().ref("games/".concat(e.key)),t=this;a.on("value",function(e){var a=e.val();a?t.setState({game:a}):t.setState({game:""})})}},{key:"createPlayer",value:function(e){var a=this.state.game,t=this.props.showSnackbar,n=D.database().ref("/games/".concat(a.key,"/players")).push(),r=Object.assign({key:n.key},e),o=this;n.set(r,function(e){if(e){t({variant:"error",message:"Unexpected internal error"})}else o.setState({playerKey:r.key}),localStorage.setItem("RecentPlayerKey",r.key)})}},{key:"render",value:function(){var e=this,a=this.state,t=a.game,n=a.playerKey,o=a.gameId,i=a.recentGameId,c=a.recentGame,l=a.isRedirected,s=this.props.showSnackbar;return!t.phase&&l?r.a.createElement("div",null,r.a.createElement("span",null,"Loading...")):t.phase?r.a.createElement("div",{className:"page-container play-page"},r.a.createElement(ce,{game:t,createPlayer:this.createPlayer,playerKey:n,showSnackbar:s})):r.a.createElement("div",{className:"page-container play-page"},r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(v.a,{label:"Game PIN",name:"Game ID",value:o,margin:"normal",onChange:this.handleChange("gameId")})),r.a.createElement(b.a,{onClick:function(){return e.joinGame(o)},variant:"contained"},"Join")),c&&r.a.createElement("div",null,r.a.createElement(w.a,null,r.a.createElement(k.a,null,r.a.createElement(E.a,null,r.a.createElement(S.a,null,r.a.createElement(I.a,null))),r.a.createElement(O.a,{primary:c.title,secondary:c.gameId}),r.a.createElement(j.a,null,r.a.createElement(x.a,{"aria-label":"reconnect",onClick:function(){return e.joinGame(i)}},r.a.createElement(M.a,null,"reconnect")))))))}}]),a}(n.Component),me=t(234),ue=t(226),he=t.n(ue),ge=t(227),de=t.n(ge),pe=t(229),fe=t.n(pe),ve=t(230),be=t.n(ve),ye=t(233),we=t.n(ye),ke=t(231),Ee=t.n(ke),je=t(232),Oe=t.n(je),Se=t(453),xe=t(449),Ce=t(228),Ie=t.n(Ce),Me={success:de.a,warning:Ie.a,error:fe.a,info:be.a};var Ne=Object(T.a)(function(e){return{success:{backgroundColor:Ee.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:Oe.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var a=e.classes,t=e.message,n=e.onClose,o=e.variant,i=Object(me.a)(e,["classes","message","onClose","variant"]),c=Me[o];return r.a.createElement(xe.a,Object.assign({className:a[o],"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(c,{className:he()(a.icon,a.iconVariant)}),t),action:[r.a.createElement(x.a,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:n},r.a.createElement(we.a,{className:a.icon}))]},i))}),Pe=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleClose=function(e){var a=t.props.hideSnackbar;"clickaway"!==e&&a()},t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.snack;return r.a.createElement("div",null,r.a.createElement(Se.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:e.open,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(Ne,{onClose:this.handleClose,variant:e.variant,message:e.message})))}}]),a}(r.a.Component),De=function(e){function a(e){var t;Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={snack:"",showHeader:!0};var n=window.location.hash.substring(1).split("&").reduce(function(e,a){if(a){var t=a.split("=");e[t[0]]=decodeURIComponent(t[1])}return e},{});return window.location.hash="",n.access_token&&(localStorage.setItem("spotifytoken",n.access_token),localStorage.setItem("spotifytoken_timestamp",Date.now())),t.showSnackbar=t.showSnackbar.bind(Object(h.a)(Object(h.a)(t))),t.hideSnackbar=t.hideSnackbar.bind(Object(h.a)(Object(h.a)(t))),t.toggleHeader=t.toggleHeader.bind(Object(h.a)(Object(h.a)(t))),t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"hideSnackbar",value:function(){var e=this.state.snack;e.open=!1,this.setState({snack:e})}},{key:"showSnackbar",value:function(e){e.open=!0,this.setState({snack:e})}},{key:"toggleHeader",value:function(e){this.setState({showHeader:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.showHeader&&r.a.createElement(p,null),r.a.createElement("div",{id:"content"},r.a.createElement(se,{showSnackbar:this.showSnackbar,toggleHeader:this.toggleHeader})),this.state.snack&&r.a.createElement(Pe,{snack:this.state.snack,hideSnackbar:this.hideSnackbar}))}}]),a}(n.Component);i.a.render(r.a.createElement(De,null),document.getElementById("root"))}},[[244,2,1]]]);
//# sourceMappingURL=main.701265d9.chunk.js.map